ЦЕЛЬ:
Определить набор индикаторов и их API в виде функций TypeScript.

ДИРЕКТОРИЯ:
  /src/indicators

ОБЩИЙ ПОДХОД:
- Работаем с массивами чисел (цены) и массивами свечей.
- Функции чистые, без побочных эффектов.
- Можно использовать простые собственные реализации, без тяжелых внешних библиотек.

1) RSI (Relative Strength Index)

Файл: rsi.ts

Функция:

export function rsi(values: number[], period: number): number[];

- values: массив цен (обычно close).
- period: окно (например, 14).
- Возвращает массив RSI того же размера:
  - первые period-1 элементов могут быть undefined/NaN или просто пропуски.
- Классическая формула RSI (Avg Gain / Avg Loss).

2) EMA (Exponential Moving Average)

Файл: ema.ts

Функция:

export function ema(values: number[], period: number): number[];

- Реализовать стандартную EMA:
  - multiplier = 2 / (period + 1)
  - EMA_t = (price_t - EMA_{t-1}) * multiplier + EMA_{t-1}

3) SMA (Simple Moving Average)

Файл: sma.ts

Функция:

export function sma(values: number[], period: number): number[];

- Обычное скользящее среднее.

4) MACD

Файл: macd.ts

Функция:

export interface MacdSeries {
  macd: number[];
  signal: number[];
  histogram: number[];
}

export function macd(
  values: number[],
  fastPeriod: number,
  slowPeriod: number,
  signalPeriod: number
): MacdSeries;

Рекомендуемые параметры по умолчанию:
- fastPeriod = 12
- slowPeriod = 26
- signalPeriod = 9

5) Bollinger Bands

Файл: bollinger.ts

Функция:

export interface BollingerSeries {
  upper: number[];
  middle: number[];
  lower: number[];
}

export function bollinger(
  values: number[],
  period: number,
  stdDevMultiplier: number
): BollingerSeries;

По умолчанию:
- period = 20
- stdDevMultiplier = 2

6) computeIndicators для набора свечей

Файл: index.ts

Импортируем все индикаторы, реализуем функцию:

import { Candle, IndicatorSet, MacdValue, BollingerBands } from '../core/types';

export function computeIndicators(candles: Candle[]): IndicatorSet {
  // 1. Берём массив close цен
  // 2. Вычисляем RSI, MACD, EMA fast/slow, Bollinger
  // 3. Возвращаем последнюю доступную точку (на последней свече)
}

Пример логики:
- if candles.length < N_min → индикаторы могут быть частично undefined.
- Последний элемент каждого массива индикаторов превращаем в значение IndicatorSet:
  - rsi[lastIndex]
  - emaFast[lastIndex]
  - и т.д.

IndicatorSet:

export interface IndicatorSet {
  rsi?: number;
  macd?: MacdValue;
  emaFast?: number;
  emaSlow?: number;
  sma?: number;
  bollinger?: BollingerBands;
}

export interface MacdValue {
  macd: number;
  signal: number;
  histogram: number;
}

export interface BollingerBands {
  upper: number;
  middle: number;
  lower: number;
}

ВАЖНО:
- Реализации должны быть аккуратными, без лишних зависимостей.
- Нужны юнит-тесты для RSI, EMA и MACD (см. 10_agent_step_plan.txt).

